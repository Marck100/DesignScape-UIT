var S=Object.defineProperty;var v=(l,e,t)=>e in l?S(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var c=(l,e,t)=>v(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const p={portfolio:{name:"Portfolio Showcase",description:"Clean layout for showcasing creative work and projects",elements:[{x:400,y:80,width:200,height:50,type:"text",content:"Portfolio",fontSize:28,fontWeight:"bold",textAlign:"center"},{x:80,y:160,width:180,height:30,type:"text",content:"Project Alpha",fontSize:16,fontWeight:"bold"},{x:80,y:200,width:180,height:120,type:"image",content:"https://via.placeholder.com/180x120?text=Project+Alpha"},{x:80,y:330,width:180,height:40,type:"text",content:"Brief description of this creative project and its key features.",fontSize:11},{x:320,y:160,width:180,height:30,type:"text",content:"Project Beta",fontSize:16,fontWeight:"bold"},{x:320,y:200,width:180,height:120,type:"image",content:"https://via.placeholder.com/180x120?text=Project+Beta"},{x:320,y:330,width:180,height:40,type:"text",content:"Brief description of this creative project and its key features.",fontSize:11},{x:560,y:160,width:180,height:30,type:"text",content:"Project Gamma",fontSize:16,fontWeight:"bold"},{x:560,y:200,width:180,height:120,type:"image",content:"https://via.placeholder.com/180x120?text=Project+Gamma"},{x:560,y:330,width:180,height:40,type:"text",content:"Brief description of this creative project and its key features.",fontSize:11},{x:800,y:160,width:180,height:30,type:"text",content:"Project Delta",fontSize:16,fontWeight:"bold"},{x:800,y:200,width:180,height:120,type:"image",content:"https://via.placeholder.com/180x120?text=Project+Delta"},{x:800,y:330,width:180,height:40,type:"text",content:"Brief description of this creative project and its key features.",fontSize:11}]},magazine:{name:"Magazine Layout",description:"Hero image with sidebar text - asymmetric layout with visual hierarchy",elements:[{x:50,y:50,width:900,height:80,type:"text",content:"DESIGN MAGAZINE",fontSize:48,fontWeight:"bold",textAlign:"center"},{x:50,y:150,width:600,height:350,type:"image",content:"https://via.placeholder.com/600x350?text=Hero+Image"},{x:670,y:140,width:300,height:370,type:"box",content:"",color:"#f8fafc"},{x:690,y:160,width:260,height:180,type:"text",content:`Creative Design Trends

Exploring the latest innovations in visual design and user experience. This article covers emerging techniques and methodologies.`,fontSize:16,fontWeight:"bold"},{x:690,y:360,width:260,height:130,type:"text",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.",fontSize:12},{x:50,y:520,width:600,height:60,type:"text",content:"Caption: Modern design principles in action - demonstrating visual balance and content hierarchy.",fontSize:10,fontStyle:"italic"}]},"business-card":{name:"Card Layout",description:"Compact design with balanced text and image placement",elements:[{x:30,y:60,width:380,height:200,type:"box",content:"",color:"#ffffff"},{x:30,y:60,width:380,height:60,type:"box",content:"",color:"#667eea"},{x:50,y:75,width:200,height:30,type:"text",content:"Alex Designer",fontSize:20,fontWeight:"bold",color:"#ffffff"},{x:320,y:70,width:70,height:40,type:"image",content:"https://via.placeholder.com/70x40?text=LOGO"},{x:50,y:140,width:290,height:25,type:"text",content:"Creative Director & UX Designer",fontSize:14,fontWeight:"500",color:"#4a5568"},{x:50,y:170,width:290,height:80,type:"text",content:`✉ alex@studio.com
📞 +1 (555) 123-4567
🌐 alexdesign.studio
📍 123 Creative Street, Design City`,fontSize:11,color:"#374151"}]},poster:{name:"Poster Design",description:"Centered composition with strong typography and focal image",elements:[{x:80,y:60,width:840,height:120,type:"box",content:"",color:"#667eea"},{x:100,y:90,width:800,height:60,type:"text",content:"DESIGN CONFERENCE 2025",fontSize:42,fontWeight:"bold",textAlign:"center",color:"#ffffff"},{x:100,y:200,width:800,height:40,type:"text",content:"The Future of Creative Technology",fontSize:24,textAlign:"center",color:"#374151"},{x:200,y:260,width:600,height:300,type:"image",content:"https://via.placeholder.com/600x300?text=Event+Image"},{x:150,y:580,width:700,height:80,type:"box",content:"",color:"#f1f5f9"},{x:170,y:600,width:660,height:40,type:"text",content:"March 15-17, 2025 • Design Center Downtown • Tickets available now",fontSize:16,textAlign:"center",fontWeight:"500",color:"#1a202c"},{x:350,y:680,width:300,height:40,type:"text",content:"Register at designconf2025.com",fontSize:18,fontWeight:"bold",textAlign:"center",color:"#667eea"}]},"landing-page":{name:"Landing Page",description:"Split-screen layout with navigation and feature sections",elements:[{x:30,y:30,width:940,height:60,type:"box",content:"",color:"#ffffff"},{x:50,y:50,width:150,height:20,type:"text",content:"BRAND LOGO",fontSize:16,fontWeight:"bold",color:"#1a202c"},{x:700,y:50,width:250,height:20,type:"text",content:"Home    About    Services    Contact",fontSize:14,fontWeight:"500",textAlign:"right",color:"#4a5568"},{x:50,y:120,width:450,height:250,type:"image",content:"https://via.placeholder.com/450x250?text=Hero+Image"},{x:520,y:120,width:430,height:250,type:"box",content:"",color:"#f8fafc"},{x:540,y:150,width:390,height:80,type:"text",content:"Transform Your Ideas Into Reality",fontSize:28,fontWeight:"bold",color:"#1a202c"},{x:540,y:240,width:390,height:80,type:"text",content:"We create stunning digital experiences that engage users and drive results. Let's build something amazing together.",fontSize:16,color:"#4a5568"},{x:540,y:330,width:120,height:30,type:"box",content:"",color:"#667eea"},{x:550,y:340,width:100,height:10,type:"text",content:"Get Started",fontSize:14,fontWeight:"bold",textAlign:"center",color:"#ffffff"},{x:50,y:400,width:900,height:60,type:"text",content:"Our Services",fontSize:24,fontWeight:"bold",textAlign:"center",color:"#1a202c"},{x:50,y:480,width:280,height:100,type:"box",content:"",color:"#f1f5f9"},{x:70,y:500,width:240,height:60,type:"text",content:`Web Development
Custom websites and applications`,fontSize:14,fontWeight:"500",color:"#374151"},{x:360,y:480,width:280,height:100,type:"box",content:"",color:"#f1f5f9"},{x:380,y:500,width:240,height:60,type:"text",content:`UI/UX Design
User-centered design solutions`,fontSize:14,fontWeight:"500",color:"#374151"},{x:670,y:480,width:280,height:100,type:"box",content:"",color:"#f1f5f9"},{x:690,y:500,width:240,height:60,type:"text",content:`Digital Strategy
Data-driven growth solutions`,fontSize:14,fontWeight:"500",color:"#374151"}]}};class b{constructor(){c(this,"importModal",null);c(this,"jsonFileInput",null);c(this,"jsonTextArea",null);this.initializeEventListeners(),this.setupModal(),this.renderTemplatePreview()}initializeEventListeners(){document.querySelectorAll(".template-card").forEach(t=>{t.addEventListener("click",o=>{const n=o.currentTarget.dataset.template;n&&this.loadTemplate(n)})});const e=document.getElementById("import-json-btn");e&&e.addEventListener("click",()=>{this.showImportModal()})}setupModal(){this.importModal=document.getElementById("import-modal"),this.jsonFileInput=document.getElementById("json-file"),this.jsonTextArea=document.getElementById("json-text");const e=document.getElementById("close-modal");e&&e.addEventListener("click",()=>{this.hideImportModal()}),this.importModal&&this.importModal.addEventListener("click",o=>{o.target===this.importModal&&this.hideImportModal()}),this.jsonFileInput&&this.jsonFileInput.addEventListener("change",o=>{this.handleFileImport(o)});const t=document.getElementById("import-from-text");t&&t.addEventListener("click",()=>{this.handleTextImport()}),document.addEventListener("keydown",o=>{var n;o.key==="Escape"&&((n=this.importModal)!=null&&n.classList.contains("show"))&&this.hideImportModal()})}loadTemplate(e){if(e==="blank"){window.location.href="editor.html";return}const t=p[e];t&&(sessionStorage.setItem("templateData",JSON.stringify(t)),window.location.href="editor.html?template="+e)}showImportModal(){this.importModal&&(this.importModal.classList.add("show"),this.importModal.style.display="flex",this.jsonFileInput&&(this.jsonFileInput.value=""),this.jsonTextArea&&(this.jsonTextArea.value=""))}hideImportModal(){this.importModal&&(this.importModal.classList.remove("show"),setTimeout(()=>{this.importModal&&(this.importModal.style.display="none")},300))}async handleFileImport(e){var n;const o=(n=e.target.files)==null?void 0:n[0];if(o&&o.type==="application/json")try{const i=await o.text(),r=JSON.parse(i);this.importLayout(r)}catch(i){alert("Error reading file: "+i.message)}else alert("Please select a valid JSON file.")}handleTextImport(){if(this.jsonTextArea){const e=this.jsonTextArea.value.trim();if(e)try{const t=JSON.parse(e);this.importLayout(t)}catch(t){alert("Invalid JSON format: "+t.message)}else alert("Please paste JSON content.")}}importLayout(e){try{if(!e.elements||!Array.isArray(e.elements))throw new Error("Invalid layout format: missing elements array");sessionStorage.setItem("importedLayout",JSON.stringify(e)),window.location.href="editor.html?import=true"}catch(t){alert("Error importing layout: "+t.message)}}renderTemplatePreview(){document.querySelectorAll(".template-canvas").forEach(t=>{const o=t.dataset.template;o&&p[o]&&this.drawTemplateOnCanvas(t,p[o])})}drawTemplateOnCanvas(e,t){const o=e.getContext("2d");if(!o)return;const n=e.width,i=e.height;o.clearRect(0,0,n,i),this.drawAbstractPreview(o,t.name,n,i)}drawAbstractPreview(e,t,o,n){switch(e.createLinearGradient(0,0,o,n),t){case"Portfolio Showcase":this.drawPortfolioPreview(e,o,n);break;case"Magazine Layout":this.drawMagazinePreview(e,o,n);break;case"Card Layout":this.drawCardPreview(e,o,n);break;case"Poster Design":this.drawPosterPreview(e,o,n);break;case"Landing Page":this.drawLandingPreview(e,o,n);break;default:this.drawDefaultPreview(e,o,n);break}}drawPortfolioPreview(e,t,o){const n=e.createLinearGradient(0,0,t,o);n.addColorStop(0,"#f8fafc"),n.addColorStop(1,"#e2e8f0"),e.fillStyle=n,e.fillRect(0,0,t,o);const i=4,r=2,a=8,y=a*(i+1),s=(t-y)/i,m=["#6366f1","#8b5cf6","#3b82f6","#6366f1","#a855f7","#6366f1","#8b5cf6","#3b82f6"];for(let f=0;f<r;f++)for(let d=0;d<i;d++){const h=a+d*(s+a),u=o*.3+f*(s+a),g=f*i+d;e.fillStyle=m[g]||"#6366f1",this.roundRect(e,h,u,s,s*.7,6),e.fill()}e.fillStyle="#1e293b",this.roundRect(e,t*.1,o*.1,t*.8,o*.1,4),e.fill()}drawMagazinePreview(e,t,o){e.fillStyle="#ffffff",e.fillRect(0,0,t,o);const n=e.createLinearGradient(0,0,t*.6,o);n.addColorStop(0,"#6366f1"),n.addColorStop(1,"#8b5cf6"),e.fillStyle=n,this.roundRect(e,t*.05,o*.2,t*.55,o*.6,8),e.fill();const i=o*.04;for(let r=0;r<8;r++){const a=t*(.25+Math.random()*.1);e.fillStyle=r<2?"#1e293b":"#64748b",this.roundRect(e,t*.65,o*.25+r*i,a,i*.6,2),e.fill()}e.fillStyle="#0f172a",this.roundRect(e,t*.1,o*.05,t*.8,o*.08,4),e.fill()}drawCardPreview(e,t,o){e.fillStyle="#ffffff",e.shadowColor="rgba(0, 0, 0, 0.1)",e.shadowBlur=20,e.shadowOffsetY=4,this.roundRect(e,t*.1,o*.15,t*.8,o*.7,12),e.fill(),e.shadowColor="transparent";const n=e.createLinearGradient(0,0,t,0);n.addColorStop(0,"#667eea"),n.addColorStop(1,"#764ba2"),e.fillStyle=n,this.roundRect(e,t*.1,o*.15,t*.8,o*.2,12),e.fill(),e.fillStyle="#ffffff",this.roundRect(e,t*.15,o*.22,t*.4,o*.06,3),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.3)",this.roundRect(e,t*.75,o*.2,t*.1,o*.1,6),e.fill();for(let i=0;i<4;i++){e.fillStyle="#94a3b8";const r=t*(.2+Math.random()*.15);this.roundRect(e,t*.15,o*.45+i*o*.06,r,o*.025,2),e.fill()}}drawPosterPreview(e,t,o){e.fillStyle="#f1f5f9",e.fillRect(0,0,t,o);const n=e.createLinearGradient(0,0,t,0);n.addColorStop(0,"#667eea"),n.addColorStop(1,"#764ba2"),e.fillStyle=n,this.roundRect(e,t*.1,o*.1,t*.8,o*.15,8),e.fill();const i=e.createLinearGradient(0,0,t,o);i.addColorStop(0,"#8b5cf6"),i.addColorStop(1,"#6366f1"),e.fillStyle=i,this.roundRect(e,t*.2,o*.35,t*.6,o*.3,10),e.fill(),e.fillStyle="#e2e8f0",this.roundRect(e,t*.15,o*.75,t*.7,o*.1,6),e.fill(),e.fillStyle="#64748b",this.roundRect(e,t*.25,o*.28,t*.5,o*.04,3),e.fill()}drawLandingPreview(e,t,o){e.fillStyle="#ffffff",e.fillRect(0,0,t,o),e.fillStyle="#f8fafc",this.roundRect(e,t*.05,o*.05,t*.9,o*.1,6),e.fill();for(let i=0;i<4;i++)e.fillStyle="#64748b",this.roundRect(e,t*.6+i*t*.08,o*.08,t*.06,o*.04,2),e.fill();const n=e.createLinearGradient(0,0,t*.45,o);n.addColorStop(0,"#3b82f6"),n.addColorStop(1,"#1d4ed8"),e.fillStyle=n,this.roundRect(e,t*.05,o*.2,t*.4,o*.35,8),e.fill(),e.fillStyle="#f8fafc",this.roundRect(e,t*.5,o*.2,t*.45,o*.35,8),e.fill();for(let i=0;i<3;i++){const r=t*(.25+Math.random()*.1);e.fillStyle=i===0?"#1e293b":"#64748b",this.roundRect(e,t*.55,o*.25+i*o*.06,r,o*.03,2),e.fill()}e.fillStyle="#3b82f6",this.roundRect(e,t*.55,o*.45,t*.15,o*.06,4),e.fill();for(let i=0;i<3;i++)e.fillStyle="#f1f5f9",this.roundRect(e,t*.05+i*t*.3,o*.65,t*.25,o*.25,6),e.fill()}drawDefaultPreview(e,t,o){const n=e.createLinearGradient(0,0,t,o);n.addColorStop(0,"#e2e8f0"),n.addColorStop(1,"#cbd5e0"),e.fillStyle=n,e.fillRect(0,0,t,o),e.fillStyle="#64748b",this.roundRect(e,t*.2,o*.2,t*.6,o*.1,6),e.fill(),e.fillStyle="#94a3b8",this.roundRect(e,t*.1,o*.4,t*.35,o*.4,8),e.fill(),e.fillStyle="#cbd5e0",this.roundRect(e,t*.55,o*.4,t*.35,o*.4,8),e.fill()}roundRect(e,t,o,n,i,r){e.beginPath(),e.moveTo(t+r,o),e.lineTo(t+n-r,o),e.quadraticCurveTo(t+n,o,t+n,o+r),e.lineTo(t+n,o+i-r),e.quadraticCurveTo(t+n,o+i,t+n-r,o+i),e.lineTo(t+r,o+i),e.quadraticCurveTo(t,o+i,t,o+i-r),e.lineTo(t,o+r),e.quadraticCurveTo(t,o,t+r,o),e.closePath()}}window.addEventListener("DOMContentLoaded",()=>{new b});
